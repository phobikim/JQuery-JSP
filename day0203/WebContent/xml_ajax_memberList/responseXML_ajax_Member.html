<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
$(function() {
	$("#btnRead").click(function() {
		$.ajax({url: "responeXML_MemberList_DB_xstream.jsp", success: function(data) {
			let member_list = $(data).find("member");
			$.each(member_list, function(index, member) {//XML의 member 노드가 하나씩 담긴다 (member)
				let id = $(member).find("id").text(); //member대신, this사용가능 / text대신 html사용가능
				let name = $(this).find("name").text();
				let pwd = $(this).find("pwd").text();
				let email = $(this).find("email").text();
				
				let tr = $("<tr></tr>");
				$("<td></td>").html(id).appendTo(tr);
				$("<td></td>").html(name).appendTo(tr);
				$("<td></td>").html(pwd).appendTo(tr);
				$("<td></td>").html(email).appendTo(tr);
				$("#memberList").append(tr);
			})			
		}})
	})
})
</script>
</head>
<body>

<div class="navbar navbar-expand navbar_dark bg-dark">
	<div class="container">
		<div class="navbar-header">
			<a class="navbar-brand" href="./welcome.jsp">Home</a>
		</div>
	</div>
</div>

<div class="jumbotron">
	<div class="container">
		<h1 class="display-3">
			Welcome to Web Shopping Mall
		</h1>
	</div>
</div>

<main role="main">
	<div class="container">
		<div class="text-center">
			<h3>
				Welcome to Web Market!
			</h3>
		</div>
	</div>
	
	<div class="container">
		<table border="1">
			<thead>
				<tr>
					<td>아이디</td>
					<td>이름</td>
					<td>암호</td>
					<td>이메일</td>
				</tr>
			</thead>
			<tbody id="memberList"></tbody>
		</table>
		<hr>
		<button id="btnRead">회원목록 읽어오기</button>
	</div>
</main>

<footer class="container">
	<p>&copy; WebMarket</p>
</footer>

</body>
</html>